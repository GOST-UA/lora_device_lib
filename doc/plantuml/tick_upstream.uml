@startuml

participant App
participant Mainloop
participant Mac
participant EventManager

Mainloop -> Mac: sendUpstream() and notify App

Mac -> EventManager: onTimeout() send the message when possible
Mac <[#blue]-- EventManager

Mainloop <[#blue]-- Mac

...

Mainloop -> EventManager: tick()

EventManager -> Mac: time to send that message

note over Mac : do send

Mac -> App: send complete notification
Mac <[#blue]-- App

EventManager <[#blue]-- Mac

Mainloop <[#blue]-- EventManager

@enduml
